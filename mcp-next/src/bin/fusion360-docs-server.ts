#!/usr/bin/env node

/**
 * @fileoverview Fusion 360 API Documentation MCP Server Executable
 * 
 * This is the main entry point for running the Fusion 360 API Documentation
 * MCP Server in stdio mode. It's designed to be used with Claude Desktop
 * and other MCP clients that communicate over standard input/output streams.
 * 
 * The server provides tools for:
 * - Browsing Fusion 360 API documentation structure
 * - Searching for specific API classes and methods
 * - Analyzing detailed class information
 * - Performing health checks on the documentation system
 * 
 * @author Generated by TypeScript/NextJS MCP Server Translation
 * @version 0.1.0
 */

import { runMcpServer } from '../lib/mcp-server.js';

/**
 * Handles graceful shutdown on SIGINT (Ctrl+C).
 * Ensures the server shuts down cleanly when interrupted by the user.
 */
process.on('SIGINT', () => {
  console.error('Shutting down Fusion 360 API Documentation MCP server...');
  process.exit(0);
});

/**
 * Handles graceful shutdown on SIGTERM (system termination).
 * Ensures the server shuts down cleanly when terminated by the system.
 */
process.on('SIGTERM', () => {
  console.error('Shutting down Fusion 360 API Documentation MCP server...');
  process.exit(0);
});

/**
 * Main execution block.
 * Starts the MCP server and handles any startup errors.
 * 
 * The server will continue running until explicitly terminated
 * or until an unrecoverable error occurs.
 */
runMcpServer().catch((error) => {
  console.error('Failed to start MCP server:', error);
  process.exit(1);
}); 